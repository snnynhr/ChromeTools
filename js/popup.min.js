function k(){document.getElementById("popup").classList.contains("off")?(chrome.g.q.set({primaryPattern:"<all_urls>",setting:"block"}),document.getElementById("popup").classList.toggle("off"),document.getElementById("popup-text").innerHTML="Popup Blocker On"):(chrome.g.q.set({primaryPattern:"<all_urls>",setting:"allow"}),document.getElementById("popup").classList.toggle("off"),document.getElementById("popup-text").innerHTML="Popup Blocker Off")}
function l(){document.getElementById("cookies").classList.contains("off")?(chrome.g.i.set({primaryPattern:"<all_urls>",setting:"allow"}),document.getElementById("cookies").classList.toggle("off"),document.getElementById("cookies-text").innerHTML="Cookies Enabled"):(chrome.g.i.set({primaryPattern:"<all_urls>",setting:"block"}),document.getElementById("cookies").classList.toggle("off"),document.getElementById("cookies-text").innerHTML="Cookies Disabled")}
function m(){document.getElementById("dnt").classList.contains("off")?chrome.a.p.n.get({},function(){chrome.a.p.n.set({value:!0},function(){void 0===chrome.d.c?document.getElementById("dnt").classList.remove("off"):document.getElementById("dnt-text").innerHTML="Error"})}):chrome.a.p.n.get({},function(){chrome.a.p.n.set({value:!1},function(){void 0===chrome.d.c?document.getElementById("dnt").classList.add("off"):document.getElementById("dnt-text").innerHTML="Error"})})}
function n(){document.getElementById("prefetch").classList.contains("off")?chrome.a.k.l.get({},function(){chrome.a.k.l.set({value:!0},function(){void 0===chrome.d.c?document.getElementById("prefetch").classList.remove("off"):document.getElementById("prefetch-text").innerHTML="Error"})}):chrome.a.k.l.get({},function(){chrome.a.k.l.set({value:!1},function(){void 0===chrome.d.c?document.getElementById("prefetch").classList.add("off"):document.getElementById("prefetch-text").innerHTML="Error"})})}
function p(){document.getElementById("autofill").classList.contains("off")?chrome.a.b.h.get({},function(){chrome.a.b.h.set({value:!0},function(){void 0===chrome.d.c?document.getElementById("autofill").classList.remove("off"):document.getElementById("autofill-text").innerHTML="Error"})}):chrome.a.b.h.get({},function(){chrome.a.b.h.set({value:!1},function(){void 0===chrome.d.c?document.getElementById("autofill").classList.add("off"):document.getElementById("autofill-text").innerHTML="Error"})})}
function q(){document.getElementById("searchsuggest").classList.contains("off")?chrome.a.b.o.get({},function(){chrome.a.b.o.set({value:!0},function(){void 0===chrome.d.c?document.getElementById("searchsuggest").classList.remove("off"):document.getElementById("searchsuggest-text").innerHTML="Error"})}):chrome.a.b.o.get({},function(){chrome.a.b.o.set({value:!1},function(){void 0===chrome.d.c?document.getElementById("searchsuggest").classList.add("off"):document.getElementById("searchsuggest-text").innerHTML=
"Error"})})}function r(){if(confirm("Clear History?")){var b=JSON.parse(localStorage.getItem("historyWL"));chrome.history.search({text:""},function(e){for(var g=0;g<e.length;g++){var d=e[g].url,f=d.search("://");0<=f&&(d=d.substring(f+3));for(var f=d.search("/"),d=d.substring(0,f),f=!0,h=0;h<b.length;h++)if(b[h]==d){f=!1;break}f&&chrome.history.A(e[g].url)}})}}
function s(){if(confirm("Clear Cookies?")){var b=JSON.parse(localStorage.getItem("cookiesWL"));chrome.i.B({},function(e){for(var g=0;g<e.length;g++){for(var d=!0,f=0;f<b.length;f++)b[f]==e[g].domain&&(d=!1);d&&chrome.i.remove({url:"http"+(a.D?"s":"")+"://"+a.domain+a.path,name:a.name,t:a.t})}});localStorage.setItem("cookiesFlag",0);document.getElementById("clrcookies").innerHTML='<div class="icon"></div><span> Cleared </span>'}}
function t(){chrome.e.m({f:!0,j:!0},function(b){b=b[0];var e=[b.u,b.index,b.url,b.f,b.r],g=JSON.parse(localStorage.getItem("tabStack"));g[g.length]=e;localStorage.setItem("tabStack",JSON.stringify(g));chrome.e.remove(b.id,function(){});document.getElementById("restoreTab").classList.remove("hide")})}
function u(){curr=JSON.parse(localStorage.getItem("tabStack"));0<curr.length&&(c=curr.pop(),0===curr.length&&document.getElementById("restoreTab").classList.add("hide"),chrome.v.get(c[0],{},function(b){void 0!==b&&b.id!=chrome.v.w&&localStorage.setItem("tabStack",JSON.stringify(curr))}))}
function v(){chrome.e.m({j:!0},function(b){for(var e=JSON.parse(localStorage.getItem("sessionStack")),g=[],d=0;d<b.length;d++){var f=b[d];g[g.length]=[f.u,f.index,f.url,f.f,f.r];chrome.e.remove(f.id)}e[e.length]=g;localStorage.setItem("sessionStack",JSON.stringify(e));document.getElementById("restoreSession").classList.remove("hide")})}
function w(){curr=JSON.parse(localStorage.getItem("sessionStack"));0<curr.length&&(c=curr.pop(),0===curr.length&&document.getElementById("restoreSession").classList.add("hide"),localStorage.setItem("sessionStack",JSON.stringify(curr)))}function x(){}
function y(){var b=document.getElementById("autoHD");b.classList.contains("off")?(localStorage.setItem("hd","on"),document.getElementById("autoHD-text").innerHTML="AutoHD On"):(localStorage.setItem("hd","off"),document.getElementById("autoHD-text").innerHTML="AutoHD Off");b.classList.toggle("off")}
function z(b){b.stopPropagation();b=document.getElementById("autoHD-setting");"Default"==b.innerHTML?(b.innerHTML="720p",localStorage.setItem("ytQuality","hd720")):"720p"==b.innerHTML?(b.innerHTML="1080p",localStorage.setItem("ytQuality","hd1080")):"1080p"==b.innerHTML?(b.innerHTML="Maximum",localStorage.setItem("ytQuality","highres")):"Maximum"==b.innerHTML&&(b.innerHTML="Default",localStorage.setItem("ytQuality","default"))}
function A(b){var e=JSON.parse(localStorage.getItem("cookiesWL"));b.stopPropagation();chrome.e.m({f:!0,j:!0},function(b){b=b[0].url;var d=b.search("://");0<=d&&(b=b.substring(d+3));d=b.search("/");b=b.substring(0,d);for(var d=!1,f=0;f<e.length;f++)e[f]==b&&(d=!0);d||(e[e.length]=b,localStorage.setItem("cookiesWL",JSON.stringify(e)))})}
function B(b){var e=JSON.parse(localStorage.getItem("historyWL"));b.stopPropagation();chrome.e.m({f:!0,j:!0},function(b){b=b[0].url;var d=b.search("://");0<=d&&(b=b.substring(d+3));d=b.search("/");b=b.substring(0,d);for(var d=!1,f=0;f<e.length;f++)e[f]==b&&(d=!0);d||(e[e.length]=b,localStorage.setItem("historyWL",JSON.stringify(e)))})}function C(){}
window.addEventListener("DOMContentLoaded",function(){chrome.e.m({f:!0,j:!0},function(b){b=b[0];incognito=b.C;url=b.url;chrome.g.q.get({primaryUrl:"https://www.google.com/*",incognito:incognito},function(b){"allow"==b.s?(document.getElementById("popup").classList.add("off"),document.getElementById("popup-text").innerHTML="Popup Blocker Off"):(document.getElementById("popup").classList.remove("off"),document.getElementById("popup-text").innerHTML="Popup Blocker On")});chrome.g.i.get({primaryUrl:"https://www.google.com/*",
incognito:incognito},function(b){"block"==b.s?(document.getElementById("cookies").classList.add("off"),document.getElementById("cookies-text").innerHTML="Cookies Disabled"):(document.getElementById("cookies").classList.remove("off"),document.getElementById("cookies-text").innerHTML="Cookies Enabled")})});var b=localStorage.getItem("hd");null===b&&(b="on",localStorage.setItem("hd",b));"off"==b?(document.getElementById("autoHD").classList.add("off"),document.getElementById("autoHD-text").innerHTML=
"AutoHD Off"):(document.getElementById("autoHD").classList.remove("off"),document.getElementById("autoHD-text").innerHTML="AutoHD On");b=localStorage.getItem("ytQuality");null===b&&(b="highres",localStorage.setItem("ytQuality","highres"));var e=document.getElementById("autoHD-setting");"default"==b?e.innerHTML="Default":"hd720"==b?e.innerHTML="720p":"hd1080"==b?e.innerHTML="1080p":"highres"==b&&(e.innerHTML="Maximum");b=localStorage.getItem("cookiesFlag");null===b&&(b="1",localStorage.setItem("cookiesFlag",
b));"1"==b?(document.getElementById("clrcookies").classList.add("off"),document.getElementById("clrcookies-text").innerHTML="Clear Cookies"):(document.getElementById("clrcookies").classList.remove("off"),document.getElementById("clrcookies-text").innerHTML="Cookies Cleared");b=localStorage.getItem("historyFlag");null===b&&(b="1",localStorage.setItem("historyFlag",b));"1"==b?(document.getElementById("clrhistory").classList.add("off"),document.getElementById("clrhistory-text").innerHTML="Clear History"):
(document.getElementById("clrhistory").classList.remove("off"),document.getElementById("clrhistory-text").innerHTML="History Cleared");chrome.a.p.n.get({},function(b){b.value?document.getElementById("dnt").classList.remove("off"):document.getElementById("dnt").classList.add("off")});chrome.a.k.l.get({},function(b){b.value?document.getElementById("prefetch").classList.remove("off"):document.getElementById("prefetch").classList.add("off")});chrome.a.b.h.get({},function(b){b.value?document.getElementById("autofill").classList.remove("off"):
document.getElementById("autofill").classList.add("off")});chrome.a.b.o.get({},function(b){b.value?document.getElementById("searchsuggest").classList.remove("off"):document.getElementById("searchsuggest").classList.add("off")});0===JSON.parse(localStorage.getItem("tabStack")).length?document.getElementById("restoreTab").classList.add("hide"):document.getElementById("restoreTab").classList.remove("hide");0===JSON.parse(localStorage.getItem("sessionStack")).length?document.getElementById("restoreSession").classList.add("hide"):
document.getElementById("restoreSession").classList.remove("hide");document.getElementById("restoreCrash").classList.add("hide");document.getElementById("popup").addEventListener("click",k);document.getElementById("cookies").addEventListener("click",l);document.getElementById("dnt").addEventListener("click",m);document.getElementById("prefetch").addEventListener("click",n);document.getElementById("autofill").addEventListener("click",p);document.getElementById("searchsuggest").addEventListener("click",
q);document.getElementById("clrcookies").addEventListener("click",s);document.getElementById("clrcookies-add").addEventListener("click",A);document.getElementById("clrhistory").addEventListener("click",r);document.getElementById("clrhistory-add").addEventListener("click",B);document.getElementById("saveTab").addEventListener("click",t);document.getElementById("restoreTab").addEventListener("click",u);document.getElementById("saveSession").addEventListener("click",v);document.getElementById("restoreSession").addEventListener("click",
w);document.getElementById("restoreCrash").addEventListener("click",x);document.getElementById("autoHD").addEventListener("click",y);document.getElementById("autoHD-setting").addEventListener("click",z);document.getElementById("options").addEventListener("click",C)},!1);
